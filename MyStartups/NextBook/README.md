# NextBook Agentï¼ˆæˆ‘çš„ä¸‹ä¸€æœ¬ä¹¦ï¼‰

> æ™ºèƒ½é˜…è¯»åŠ©æ‰‹ï¼šè®°å½•ã€ç®¡ç†ä¸å‘ç°ä½ çš„é˜…è¯»ä¸–ç•Œ

<p align="center">
  <img src="docs/assets/logo.png" alt="NextBook Logo" width="200"/>
</p>

## ğŸ“š ç›®å½•

- [NextBook Agentï¼ˆæˆ‘çš„ä¸‹ä¸€æœ¬ä¹¦ï¼‰](#nextbook-agentæˆ‘çš„ä¸‹ä¸€æœ¬ä¹¦)
  - [ğŸ“š ç›®å½•](#-ç›®å½•)
  - [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
  - [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
    - [ğŸ“¥ SAVE - å†…å®¹ä¿å­˜](#-save---å†…å®¹ä¿å­˜)
    - [ğŸ“š NEXT - ä¹¦ç±æ¨è](#-next---ä¹¦ç±æ¨è)
    - [ğŸ” RECALL - çŸ¥è¯†å›å¿†](#-recall---çŸ¥è¯†å›å¿†)
    - [ğŸ“Š REPORT - æ•°æ®æŠ¥å‘Š](#-report---æ•°æ®æŠ¥å‘Š)
  - [ä½¿ç”¨åœºæ™¯](#ä½¿ç”¨åœºæ™¯)
  - [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
    - [ç³»ç»Ÿæ¶æ„æ¦‚è¿°](#ç³»ç»Ÿæ¶æ„æ¦‚è¿°)
    - [é¦–ç‰ˆæ¶æ„ (macOS POCç‰ˆ)](#é¦–ç‰ˆæ¶æ„-macos-pocç‰ˆ)
    - [æ‰©å±•æ¶æ„ (å¤šå¹³å°ç‰ˆ)](#æ‰©å±•æ¶æ„-å¤šå¹³å°ç‰ˆ)
    - [æ•°æ®æµæ¶æ„](#æ•°æ®æµæ¶æ„)
      - [æ ¸å¿ƒå­˜å‚¨æ¶æ„](#æ ¸å¿ƒå­˜å‚¨æ¶æ„)
      - [å†…å®¹è·å–æµç¨‹ (SAVE)](#å†…å®¹è·å–æµç¨‹-save)
      - [æ¨èç³»ç»Ÿæµç¨‹ (NEXT)](#æ¨èç³»ç»Ÿæµç¨‹-next)
      - [çŸ¥è¯†å›å¿†æµç¨‹ (RECALL)](#çŸ¥è¯†å›å¿†æµç¨‹-recall)
      - [æ•°æ®æŠ¥å‘Šæµç¨‹ (REPORT)](#æ•°æ®æŠ¥å‘Šæµç¨‹-report)
      - [è·¨æµç¨‹æ•°æ®äº¤äº’](#è·¨æµç¨‹æ•°æ®äº¤äº’)
    - [æ¶æ„è®¾è®¡åŸåˆ™](#æ¶æ„è®¾è®¡åŸåˆ™)
  - [ç”¨æˆ·ç•Œé¢](#ç”¨æˆ·ç•Œé¢)
    - [ä¸»ç•Œé¢è®¾è®¡](#ä¸»ç•Œé¢è®¾è®¡)
    - [æ ¸å¿ƒåŠŸèƒ½ç•Œé¢](#æ ¸å¿ƒåŠŸèƒ½ç•Œé¢)
      - [ğŸ“¥ SAVE - å†…å®¹ä¿å­˜](#-save---å†…å®¹ä¿å­˜-1)
      - [ğŸ“š NEXT - ä¹¦ç±æ¨è](#-next---ä¹¦ç±æ¨è-1)
      - [ğŸ” RECALL - çŸ¥è¯†å›å¿†](#-recall---çŸ¥è¯†å›å¿†-1)
      - [ğŸ“Š REPORT - æ•°æ®æŠ¥å‘Š](#-report---æ•°æ®æŠ¥å‘Š-1)
    - [äº¤äº’è®¾è®¡åŸåˆ™](#äº¤äº’è®¾è®¡åŸåˆ™)
  - [å¿«é€Ÿä¸Šæ‰‹](#å¿«é€Ÿä¸Šæ‰‹)
  - [å¼€å‘çŠ¶æ€](#å¼€å‘çŠ¶æ€)
  - [æœªæ¥è®¡åˆ’](#æœªæ¥è®¡åˆ’)
  - [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)
  - [è®¸å¯è¯](#è®¸å¯è¯)

## é¡¹ç›®æ¦‚è¿°

NextBook Agent æ˜¯ä¸€ä¸ªæ™ºèƒ½é˜…è¯»åŠ©æ‰‹ï¼Œå¸®åŠ©ç”¨æˆ·ç®¡ç†é˜…è¯»å†…å®¹ã€ç¬”è®°å’Œè·å–ä¸ªæ€§åŒ–å›¾ä¹¦æ¨èã€‚é€šè¿‡AIæŠ€æœ¯ï¼Œå®ƒèƒ½å¤Ÿç†è§£ç”¨æˆ·çš„é˜…è¯»åå¥½ï¼Œæä¾›é«˜è´¨é‡çš„å†…å®¹æ¨èï¼ŒåŒæ—¶å¯¹é˜…è¯»å†å²è¿›è¡Œå¤šç»´åº¦åˆ†æã€‚

**ä¸»è¦ä»·å€¼**ï¼š
- ğŸ“ ã€é€šè¿‡ã€‘é«˜æ•ˆè®°å½•é˜…è¯»å†…å®¹å’Œç¬”è®°
- ğŸ” ã€è¾¾åˆ°ã€‘æ™ºèƒ½æ¨èç›¸å…³ä¼˜è´¨ä¹¦ç±
- ğŸ§  ã€åŒæ—¶ã€‘æ„å»ºä¸ªäººçŸ¥è¯†åº“ã€å»ºç«‹`æ´è§é“¾æ¥`
- ğŸ“Š ã€é¡ºå¸¦ã€‘ç”Ÿæˆé˜…è¯»ç»Ÿè®¡ä¸æŠ¥å‘Š

* å¤‡æ³¨ï¼š
  * æ´è§é“¾æ¥ï¼šå³ç”¨æˆ·çš„ä¸ªäººè§è§£ä¸ä»–äººè§è§£çš„å…³è”
     * ä»–äººï¼šæŸä½å½“ä»£æ´»è·ƒçš„ã€å†å²è‘—åçš„å¤§ç¥ä»¬
     * å…³è”ï¼šæŒ‡å‘æ˜å‡ºï¼Œè‡ªå·±çš„è§è§£ä¸ä»–ä»¬ç›¸å½“ã€æˆ–æ›´æ·±åˆ»

## æ ¸å¿ƒåŠŸèƒ½

### ğŸ“¥ SAVE - å†…å®¹ä¿å­˜

* **å½¢å¼**ï¼šå¯¼å…¥ï¼ˆä¸Šä¼ ï¼‰PDFã€EPUBæ ¼å¼çš„ä¹¦ç±æ–‡ä»¶
  * **ä»¥åŠ**ï¼šæ‹·è´ç²˜è´´æ–‡æœ¬å’Œå›¾åƒï¼Œä½œä¸ºç¬”è®°
  * **è¿˜æœ‰**ï¼šæ·»åŠ é¢å¤–çš„æ–‡æœ¬å’Œå›¾åƒï¼Œä½œä¸ºå¤‡æ³¨
* **åˆ†ç±»**ï¼šæ‰‹åŠ¨åˆ›å»ºç›®å½•ç»“æ„ï¼Œä¿æŒæ‰‹åŠ¨åˆ†ç±»è§†å›¾ï¼ˆé»˜è®¤ï¼šä¿å­˜æ—¶é—´ï¼‰
  * **æ”¯æŒ** è‡ªåŠ¨æ™ºèƒ½åˆ†ç±»è§†å›¾ï¼ˆåŸºäºï¼šä¸»é¢˜ï¼‰

### ğŸ“š NEXT - ä¹¦ç±æ¨è

* **æ¨è**ï¼šä¸‰æœ¬æ–°ä¹¦ï¼ˆå…³é”®åŠŸèƒ½ï¼‰
  * **æ”¯æŒ**ï¼šå†æ¥ä¸‰æœ¬ï¼ˆä¸æ»¡æ„å½“å‰æ¨èï¼‰
* **å±•ç¤º**ï¼šå°é¢ + æ‘˜è¦ + æ¨èç†ç”±
* **è·å–**ï¼šé¢„ä¸‹è½½ã€ç«‹åˆ»ã€åå°ï¼Œæœç´¢å¯ä¸‹è½½æºï¼Œ
  * **ä¼˜å…ˆ**ï¼šæœ¬åœ°æ–‡ä»¶ > åœ¨çº¿èµ„æºï¼ŒEPUB > PDF
* **æ¥æº**ï¼š
  * **å®æ—¶äº’è”ç½‘æœç´¢**ï¼šè·å–æœ€æ–°å‡ºç‰ˆä¿¡æ¯ã€è¯»è€…è¯„ä»·å’Œè´­ä¹°é“¾æ¥
  * **ä¸“ä¸šä¹¦è¯„ç½‘ç«™**ï¼šæ•´åˆGoodreadsã€è±†ç“£è¯»ä¹¦ç­‰å¹³å°çš„è¯„åˆ†å’Œè¯„è®º
  * **å­¦æœ¯æ•°æ®åº“**ï¼šè¿æ¥Google Scholarç­‰è·å–å­¦æœ¯è‘—ä½œæ¨è
* **ç®—æ³•**ï¼š
  * ã€AlgAã€‘åŸºäºç”¨æˆ·é˜…è¯»å†å²ã€å‚è€ƒå…¶ç¬”è®°å’Œå¤‡æ³¨
    * ç»“åˆï¼šæœ€æ–°å‡ºç‰ˆ + é¢†åŸŸç»å…¸ + è¿‘æœŸçƒ­é—¨
  * ã€AlgBã€‘å®æ—¶æœç´¢å¼•æ“æ•´åˆï¼Œæ ¹æ®ç”¨æˆ·å…´è¶£å…³é”®è¯çˆ¬å–æ¨è

### ğŸ” RECALL - çŸ¥è¯†å›å¿†

* **å›é¡¾**ï¼šé»˜è®¤å±•ç¤ºï¼ˆç”Ÿæˆï¼‰æœ€è¿‘1ä¸ªæœˆçš„é˜…è¯»è®°å½•ä¸ç¬”è®°
  * **æ”¯æŒ**ï¼šæŒ‰æ—¶é—´çº¿ï¼ˆæœˆ/å­£/å¹´ï¼‰æŸ¥çœ‹
* **æ·»åŠ **ï¼šæ”¯æŒåœ¨å›é¡¾æ—¶æ·»åŠ æ–°çš„è§è§£å’Œç¬”è®°
* **æ£€ç´¢**ï¼šæŒ‰ä¸»é¢˜ã€ä½œè€…ã€æ—¶é—´ç­‰å¤šç»´åº¦ç­›é€‰å†…å®¹
* **æŒ–æ˜**ï¼š
  * çŸ¥è¯†å›¾è°±
  * è§è§£å…³è”ï¼ˆå³ï¼šæˆ‘çš„è§è§£ã€è·Ÿå“ªä½å¤§ç¥çš„è§è§£ç›¸å½“ï¼‰

### ğŸ“Š REPORT - æ•°æ®æŠ¥å‘Š

* **é˜…è¯»ç»Ÿè®¡**ï¼šå±•ç¤ºå½“å¹´å’Œå†å¹´é˜…è¯»é‡ã€ç¬”è®°æ•°é‡
* **ä¸»é¢˜åˆ†æ**ï¼šé˜…è¯»ä¸»é¢˜åˆ†å¸ƒå¯è§†åŒ–
* **çŸ¥è¯†åœ°å›¾**ï¼šæ„å»ºä¸ªäººçŸ¥è¯†å›¾è°±
* **è¿›åº¦è¿½è¸ª**ï¼šé˜…è¯»ç›®æ ‡å®Œæˆåº¦

## ä½¿ç”¨åœºæ™¯

* **é¦–ç‰ˆèšç„¦**ï¼š`macOS Version`
  * **ä¸ªäººæ¡Œé¢**ï¼šä¼˜å…ˆæ”¯æŒmacBookç”¨æˆ·ï¼Œæä¾›å®Œæ•´çš„æ¡Œé¢é˜…è¯»ä½“éªŒ
  * **å•è®¾å¤‡éƒ¨ç½²**ï¼šæœ¬åœ°åŒ–å­˜å‚¨å’Œå¤„ç†ï¼Œä¿æŠ¤é˜…è¯»éšç§
  * **ç›®çš„**ï¼š
    * POCï¼ˆæ¦‚å¿µéªŒè¯ï¼‰ç‰ˆæœ¬ï¼ŒéªŒè¯æ ¸å¿ƒåŠŸèƒ½å’Œç”¨æˆ·ä½“éªŒ
    * å¯»æ‰¾åˆ°æ ¸å¿ƒç”¨æˆ·ç¾¤ä½“ï¼Œæ”¶é›†åé¦ˆå’Œå»ºè®® 
  
* **æœªæ¥æ‰©å±•**ï¼š`multiOS Version`
  * **å¤šç«¯ä½¿ç”¨**ï¼šå°†æ”¯æŒWin11ã€Ubuntu Linuxã€iPhoneå’ŒAndroidå¹³å°
  * **æ— ç¼åŒæ­¥**ï¼šåœ¨ä¸åŒè®¾å¤‡é—´ä¿æŒé˜…è¯»è¿›åº¦å’Œç¬”è®°çš„åŒæ­¥
  * **è·¨å¹³å°ä½“éªŒ**ï¼šç»Ÿä¸€çš„UIå’ŒåŠŸèƒ½è®¾è®¡ï¼Œé€‚é…ä¸åŒè®¾å¤‡ç‰¹æ€§
  * **ç›®çš„**ï¼š
    * æ‰©å¤§ç”¨æˆ·ç¾¤ä½“ï¼Œæå‡äº§å“çš„å¸‚åœºç«äº‰åŠ›

## æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„æ¦‚è¿°

```mermaid
flowchart TD
    User([ç”¨æˆ·]) --- Frontend
    
    subgraph Frontend["å‰ç«¯ç•Œé¢"]
        UI[ç”¨æˆ·ç•Œé¢] --- SaveUI[SAVEç•Œé¢]
        UI --- NextUI[NEXTç•Œé¢]
        UI --- RecallUI[RECALLç•Œé¢]
        UI --- ReportUI[REPORTç•Œé¢]
        
        SaveUI --- Reader[é˜…è¯»å™¨]
        SaveUI --- Notes[ç¬”è®°ç³»ç»Ÿ]
        NextUI --- Recommend[æ¨èå±•ç¤º]
        RecallUI --- KnowledgeMap[çŸ¥è¯†å›¾è°±]
        ReportUI --- Dashboard[æ•°æ®ä»ªè¡¨ç›˜]
    end
    
    subgraph Backend["åç«¯æœåŠ¡"]
        API[APIæœåŠ¡] --- ContentService[å†…å®¹æœåŠ¡]
        API --- RecommendService[æ¨èæœåŠ¡]
        API --- RecallService[å›å¿†æœåŠ¡]
        API --- AnalyticsService[åˆ†ææœåŠ¡]
        
        ContentService --- DocumentProcessor[æ–‡æ¡£å¤„ç†å™¨]
        ContentService --- NoteManager[ç¬”è®°ç®¡ç†å™¨]
        RecommendService --- RecommendEngine[æ¨èå¼•æ“]
        RecommendService --- WebSearchEngine[ç½‘ç»œæœç´¢å¼•æ“]
        RecallService --- SearchEngine[æ£€ç´¢å¼•æ“]
        AnalyticsService --- StatisticsEngine[ç»Ÿè®¡å¼•æ“]
    end
    
    subgraph Internet["äº’è”ç½‘èµ„æº"]
        BookAPI[å›¾ä¹¦API] --- ReviewSites[ä¹¦è¯„ç½‘ç«™]
        BookAPI --- BookStores[åœ¨çº¿ä¹¦åº—]
        BookAPI --- AcademicDB[å­¦æœ¯æ•°æ®åº“]
    end
    
    subgraph AI["AIç»„ä»¶"]
        LLM[å¤§è¯­è¨€æ¨¡å‹] --- RAG[æ£€ç´¢å¢å¼ºç”Ÿæˆ]
        RAG --- VectorDB[å‘é‡æ•°æ®åº“]
        LLM --- TopicExtractor[ä¸»é¢˜æå–å™¨]
        LLM --- BookRecommender[å›¾ä¹¦æ¨èå™¨]
        LLM --- InsightGenerator[è§è§£ç”Ÿæˆå™¨]
    end
    
    subgraph Storage["å­˜å‚¨å±‚"]
        DB[(å…³ç³»æ•°æ®åº“)] --- FileSystem[(æ–‡ä»¶ç³»ç»Ÿ)]
        VectorDB --- DB
        DB --- UserProfile[ç”¨æˆ·ç”»åƒ]
        DB --- ReadingHistory[é˜…è¯»å†å²]
        DB --- SearchCache[æœç´¢ç¼“å­˜]
    end
    
    Frontend --- Backend
    Backend --- AI
    Backend --- Storage
    Backend --- Internet
    
    style Frontend fill:#d0e0ff,stroke:#3080ff
    style Backend fill:#ffe0d0,stroke:#ff8030
    style AI fill:#d0ffe0,stroke:#30ff80
    style Storage fill:#e0d0ff,stroke:#8030ff
    style Internet fill:#fff0d0,stroke:#ffb030
```

### é¦–ç‰ˆæ¶æ„ (macOS POCç‰ˆ)

```mermaid
flowchart TD
    User([ç”¨æˆ·]) --> UI[Electron+Reactåº”ç”¨]
    
    subgraph "å‰ç«¯å±‚"
        UI --> SaveUI[SAVEæ¨¡å—]
        UI --> NextUI[NEXTæ¨¡å—]
        UI --> RecallUI[RECALLæ¨¡å—]
        UI --> ReportUI[REPORTæ¨¡å—]
        
        SaveUI --> PDF[PDF.js]
        SaveUI --> EPUB[EPUB.js]
        UI --> TW[TailwindCSS]
    end
    
    subgraph "æœ¬åœ°æœåŠ¡å±‚"
        API[FastAPI] --> DocProcess[æ–‡æ¡£å¤„ç†æœåŠ¡]
        API --> RecommendEngine[æ¨èå¼•æ“æœåŠ¡]
        API --> SearchService[æ£€ç´¢æœåŠ¡]
        API --> AnalyticsService[åˆ†ææœåŠ¡]
    end
    
    subgraph "æ•°æ®å±‚"
        DocProcess --> SQLite[(SQLite)]
        RecommendEngine --> SQLite
        SearchService --> SQLite
        AnalyticsService --> SQLite
        SearchService --> VectorDB[(ChromaDB)]
    end
    
    subgraph "AIå±‚"
        subgraph "æœ¬åœ°AI"
            LocalAI[Ollama] --> LocalLLM[å¼€æºLLM]
            LocalAI --> LocalRAG[æœ¬åœ°RAG]
        end
        
        subgraph "äº‘ç«¯AI"
            style CloudAI fill:#f9e79f,stroke:#f39c12
            CloudAI[OpenAI API] --> CloudLLM[GPTæ¨¡å‹]
            CloudAI --> CloudVectorDB[äº‘ç«¯å‘é‡æ•°æ®åº“]
        end
    end
    
    SaveUI <--> API
    NextUI <--> API
    RecallUI <--> API
    ReportUI <--> API
    
    DocProcess <--> LocalAI
    RecommendEngine <--> LocalAI
    SearchService <--> LocalAI
    AnalyticsService <--> LocalAI
    
    DocProcess <-.-> CloudAI
    RecommendEngine <-.-> CloudAI
    SearchService <-.-> CloudAI
    AnalyticsService <-.-> CloudAI
    
    classDef frontend fill:#d0e0ff,stroke:#3080ff
    classDef backend fill:#ffe0d0,stroke:#ff8030
    classDef data fill:#e0d0ff,stroke:#8030ff
    classDef localai fill:#d0ffe0,stroke:#30ff80
    classDef cloudai fill:#f9e79f,stroke:#f39c12
    
    class UI,SaveUI,NextUI,RecallUI,ReportUI,PDF,EPUB,TW frontend
    class API,DocProcess,RecommendEngine,SearchService,AnalyticsService backend
    class SQLite,VectorDB data
    class LocalAI,LocalLLM,LocalRAG localai
    class CloudAI,CloudLLM,CloudVectorDB cloudai
```

### æ‰©å±•æ¶æ„ (å¤šå¹³å°ç‰ˆ)

```mermaid
flowchart TD
    User([ç”¨æˆ·]) --- A1 & A2 & A3
    
    subgraph "å¤šå¹³å°å‰ç«¯"
        A1[Webåº”ç”¨] --> B1[React/Next.js]
        A2[ç§»åŠ¨åº”ç”¨] --> B2[React Native]
        A3[æ¡Œé¢åº”ç”¨] --> B3[Electron]
        
        B1 & B2 & B3 --> C[ç»Ÿä¸€UIç»„ä»¶åº“]
        
        C --> SaveUIMulti[SAVEæ¨¡å—]
        C --> NextUIMulti[NEXTæ¨¡å—]
        C --> RecallUIMulti[RECALLæ¨¡å—]
        C --> ReportUIMulti[REPORTæ¨¡å—]
    end
    
    subgraph "äº‘ç«¯æœåŠ¡å±‚"
        D[APIç½‘å…³/è´Ÿè½½å‡è¡¡] --> E1[ç”¨æˆ·è®¤è¯æœåŠ¡]
        D --> E2[å†…å®¹ç®¡ç†æœåŠ¡]
        D --> E3[æ¨èå¼•æ“æœåŠ¡]
        D --> E4[çŸ¥è¯†æ£€ç´¢æœåŠ¡]
        D --> E5[åˆ†ææŠ¥å‘ŠæœåŠ¡]
        D --> E6[åŒæ­¥æœåŠ¡]
    end
    
    subgraph "æ•°æ®å±‚"
        F1[(PostgreSQL)] --- F2[(Redisç¼“å­˜)]
        F1 --- F3[(å¯¹è±¡å­˜å‚¨)]
        F4[å‘é‡æ•°æ®åº“] --- F1
        F5[æœç´¢å¼•æ“] --- F1
    end
    
    subgraph "AIå¼•æ“å±‚"
        G1[åˆ†å¸ƒå¼AIé›†ç¾¤] --> G2[ç”¨æˆ·åå¥½åˆ†æ]
        G1 --> G3[å†…å®¹ç†è§£å¼•æ“]
        G1 --> G4[æ¨èç®—æ³•å¼•æ“]
        G1 --> G5[çŸ¥è¯†å…³è”å¼•æ“]
        
        G6[æ¨¡å‹è®­ç»ƒæ¡†æ¶] --> G1
    end
    
    SaveUIMulti & NextUIMulti & RecallUIMulti & ReportUIMulti <--> D
    
    E1 & E2 & E3 & E4 & E5 & E6 <--> F1
    E1 & E2 & E3 & E4 & E5 & E6 <--> G1
    
    E2 --> F3
    E4 --> F4
    E4 --> F5
    
    classDef frontend fill:#d0e0ff,stroke:#3080ff
    classDef backend fill:#ffe0d0,stroke:#ff8030
    classDef data fill:#e0d0ff,stroke:#8030ff
    classDef ai fill:#d0ffe0,stroke:#30ff80
    
    class A1,A2,A3,B1,B2,B3,C,SaveUIMulti,NextUIMulti,RecallUIMulti,ReportUIMulti frontend
    class D,E1,E2,E3,E4,E5,E6 backend
    class F1,F2,F3,F4,F5 data
    class G1,G2,G3,G4,G5,G6 ai
```

### æ•°æ®æµæ¶æ„

ç³»ç»Ÿçš„æ•°æ®æµè¢«åˆ†ä¸ºå››ä¸ªä¸»è¦åŠŸèƒ½æµï¼Œæ‰€æœ‰æµç¨‹å…±äº«æ ¸å¿ƒå­˜å‚¨ç³»ç»Ÿã€‚

#### æ ¸å¿ƒå­˜å‚¨æ¶æ„

```mermaid
flowchart LR
    %% å®šä¹‰ä¸»è¦æ•°æ®èŠ‚ç‚¹åŠè¿æ¥
    DB[(æœ¬åœ°æ•°æ®åº“)]
    VDB[(å‘é‡æ•°æ®åº“)]
    FS[(æ–‡ä»¶ç³»ç»Ÿ)]
    
    DB <--> VDB
    DB <--> FS
    
    subgraph "å­˜å‚¨å†…å®¹åˆ†ç±»"
        DB --> MD[å…ƒæ•°æ®å­˜å‚¨]
        DB --> UD[ç”¨æˆ·æ•°æ®]
        VDB --> VS[è¯­ä¹‰å‘é‡]
        FS --> RAW[åŸå§‹æ–‡ä»¶]
        FS --> GEN[ç”Ÿæˆå†…å®¹]
    end
    
    classDef storage fill:#f5f5f5,stroke:#666666,stroke-width:2px
    classDef content fill:#e6f7ff,stroke:#1890ff,stroke-width:1px
    
    class DB,VDB,FS storage
    class MD,UD,VS,RAW,GEN content
```

**å­˜å‚¨ç»„ä»¶ç”¨é€”è§£é‡Š**:

| å­˜å‚¨ç»„ä»¶             | ç±»å‹     | ç”¨é€”è¯´æ˜                                                             |
| -------------------- | -------- | -------------------------------------------------------------------- |
| **æœ¬åœ°æ•°æ®åº“ (DB)**  | æ ¸å¿ƒå­˜å‚¨ | å­˜å‚¨ç»“æ„åŒ–æ•°æ®ï¼Œç®¡ç†ç”¨æˆ·ä¿¡æ¯ã€é˜…è¯»å†å²ã€ä¹¦ç±å…ƒæ•°æ®å’Œç³»ç»Ÿé…ç½®         |
| **å‘é‡æ•°æ®åº“ (VDB)** | æ ¸å¿ƒå­˜å‚¨ | ç®¡ç†æ–‡æœ¬è¯­ä¹‰å‘é‡ï¼Œæ”¯æŒç›¸ä¼¼åº¦æœç´¢å’Œè¯­ä¹‰åŒ¹é…ï¼Œä¸ºæ¨èå’Œå›å¿†åŠŸèƒ½æä¾›æ”¯æŒ |
| **æ–‡ä»¶ç³»ç»Ÿ (FS)**    | æ ¸å¿ƒå­˜å‚¨ | å­˜å‚¨åŸå§‹ä¹¦ç±æ–‡ä»¶ã€å›¾åƒå’Œå¯¼å‡ºå†…å®¹ï¼Œæä¾›é«˜æ•ˆçš„å¤§æ–‡ä»¶ç®¡ç†               |
| **å…ƒæ•°æ®å­˜å‚¨ (MD)**  | å†…å®¹åˆ†ç±» | ä¿å­˜ä¹¦ç±ä¿¡æ¯ï¼ˆæ ‡é¢˜ã€ä½œè€…ã€å‡ºç‰ˆä¿¡æ¯ï¼‰ã€é˜…è¯»çŠ¶æ€å’Œæ ‡ç­¾æ•°æ®             |
| **ç”¨æˆ·æ•°æ® (UD)**    | å†…å®¹åˆ†ç±» | è®°å½•ç”¨æˆ·é…ç½®ã€é˜…è¯»ä¹ æƒ¯ã€åå¥½è®¾ç½®å’Œæ¨èå†å²                           |
| **è¯­ä¹‰å‘é‡ (VS)**    | å†…å®¹åˆ†ç±» | å­˜å‚¨æ–‡æœ¬å†…å®¹çš„å‘é‡è¡¨ç¤ºï¼Œç”¨äºç›¸ä¼¼å†…å®¹æŸ¥æ‰¾å’Œè¯­ä¹‰æ£€ç´¢                   |
| **åŸå§‹æ–‡ä»¶ (RAW)**   | å†…å®¹åˆ†ç±» | ä¿å­˜åŸå§‹PDFã€EPUBç­‰æ ¼å¼çš„å®Œæ•´ä¹¦ç±æ–‡ä»¶ï¼Œç¡®ä¿å†…å®¹å®Œæ•´æ€§                |
| **ç”Ÿæˆå†…å®¹ (GEN)**   | å†…å®¹åˆ†ç±» | å­˜å‚¨AIç”Ÿæˆçš„æ‘˜è¦ã€è§è§£ã€æŠ¥å‘Šå’ŒçŸ¥è¯†å…³è”ç­‰è¡ç”Ÿå†…å®¹                     |

**æ•°æ®æµåŠ¨ä¸å·¥ä½œåŸç†**:

* **å†…å®¹å¤„ç†æµ**: åŸå§‹æ–‡ä»¶ä¸Šä¼  â†’ è§£æä¸ºæ–‡æœ¬ â†’ æå–å…ƒæ•°æ® â†’ è½¬æ¢ä¸ºå‘é‡ â†’ åˆ†åˆ«å­˜å‚¨
* **æ£€ç´¢æµç¨‹**: ç”¨æˆ·æŸ¥è¯¢ â†’ å‘é‡åŒ¹é… + å…³é”®è¯æœç´¢ â†’ ä»åŸå§‹æ–‡ä»¶æå–ç›¸å…³æ®µè½ â†’ è¿”å›ç»“æœ
* **æ¨èæœºåˆ¶**: åˆ†æç”¨æˆ·æ•°æ® â†’ ç»“åˆè¯­ä¹‰å‘é‡ç›¸ä¼¼åº¦ â†’ ç”Ÿæˆä¸ªæ€§åŒ–æ¨è â†’ å­˜å‚¨åé¦ˆ

#### å†…å®¹è·å–æµç¨‹ (SAVE)

```mermaid
flowchart LR
    %% SAVEæµç¨‹
    DB[(æœ¬åœ°æ•°æ®åº“)]
    VDB[(å‘é‡æ•°æ®åº“)]
    FS[(æ–‡ä»¶ç³»ç»Ÿ)]
    
    subgraph "å†…å®¹è·å–æµ"
        A1[ç”¨æˆ·ä¸Šä¼ /å¯¼å…¥] --> A2[æ–‡æ¡£è§£æ]
        A2 --> A3[å†…å®¹æå–]
        A3 --> A4[å…ƒæ•°æ®è¯†åˆ«]
        A3 --> A5[æ–‡æœ¬å‘é‡åŒ–]
        A4 --> A6[åˆ†ç±»æ ‡ç­¾ç”Ÿæˆ]
        A5 --> A7[è¯­ä¹‰ç´¢å¼•æ„å»º]
        A6 & A7 --> A8[å­˜å‚¨ç´¢å¼•]
    end
    
    A3 --> FS
    A5 --> VDB
    A8 --> DB
    
    classDef flow1 fill:#ffe6cc,stroke:#d79b00,stroke-width:2px
    classDef storage fill:#f5f5f5,stroke:#666666,stroke-dasharray:5 5
    
    class A1,A2,A3,A4,A5,A6,A7,A8 flow1
    class DB,VDB,FS storage
```

#### æ¨èç³»ç»Ÿæµç¨‹ (NEXT)

```mermaid
flowchart LR
    %% NEXTæµç¨‹
    DB[(æœ¬åœ°æ•°æ®åº“)]
    VDB[(å‘é‡æ•°æ®åº“)]
    
    subgraph "æ¨èæµç¨‹"
        B1[ç”¨æˆ·å†å²åˆ†æ] --> B2[å…´è¶£æ¨¡å‹æ„å»º]
        B2 --> B3[LLMç”Ÿæˆå€™é€‰]
        B2 --> B6[ç½‘ç»œæœç´¢]
        B3 <--> B8[æœ¬åœ°ä¹¦åº“æ£€ç´¢]
        B6 --> B7[æœç´¢ç»“æœå¤„ç†]
        B3 & B7 --> B4[å¤šç»´åº¦æ’åº]
        B4 --> B5[ä¸ªæ€§åŒ–æ¨èå±•ç¤º]
        B5 --> B9[ç”¨æˆ·åé¦ˆæ”¶é›†]
        B9 --> B1
    end
    
    DB --> B1
    DB --> B8
    VDB --> B3
    B9 --> DB
    
    classDef flow2 fill:#d5e8d4,stroke:#82b366,stroke-width:2px
    classDef storage fill:#f5f5f5,stroke:#666666,stroke-dasharray:5 5
    
    class B1,B2,B3,B4,B5,B6,B7,B8,B9 flow2
    class DB,VDB storage
```

#### çŸ¥è¯†å›å¿†æµç¨‹ (RECALL)

```mermaid
flowchart LR
    %% RECALLæµç¨‹
    DB[(æœ¬åœ°æ•°æ®åº“)]
    VDB[(å‘é‡æ•°æ®åº“)]
    
    subgraph "å›å¿†æµç¨‹"
        C1[ç”¨æˆ·æ£€ç´¢æŸ¥è¯¢] --> C2[æ··åˆæ£€ç´¢ç­–ç•¥]
        C2 --> C3[è¯­ä¹‰æœç´¢]
        C2 --> C6[å…³é”®è¯æœç´¢]
        C3 & C6 --> C4[ç»“æœèåˆæ’åº]
        C4 --> C7[ä¸Šä¸‹æ–‡å…³è”æ„å»º]
        C7 --> C5[å¯è§†åŒ–å‘ˆç°]
        C5 --> C8[äº¤äº’å¼æ¢ç´¢]
        C8 --> C1
    end
    
    DB --> C2
    VDB --> C3
    C7 --> VDB
    C8 --> DB
    
    classDef flow3 fill:#dae8fc,stroke:#6c8ebf,stroke-width:2px
    classDef storage fill:#f5f5f5,stroke:#666666,stroke-dasharray:5 5
    
    class C1,C2,C3,C4,C5,C6,C7,C8 flow3
    class DB,VDB storage
```

#### æ•°æ®æŠ¥å‘Šæµç¨‹ (REPORT)

```mermaid
flowchart LR
    %% REPORTæµç¨‹
    DB[(æœ¬åœ°æ•°æ®åº“)]
    
    subgraph "æŠ¥å‘Šç”Ÿæˆæµ"
        D1[æ•°æ®æ”¶é›†] --> D2[å¤šç»´åº¦ç»Ÿè®¡]
        D2 --> D3[æ¨¡å¼è¯†åˆ«]
        D2 --> D4[è¶‹åŠ¿åˆ†æ]
        D3 & D4 --> D5[æ´è§ç”Ÿæˆ]
        D5 --> D6[å¯è§†åŒ–å›¾è¡¨]
        D6 --> D7[æŠ¥å‘Šç»„è£…]
    end
    
    DB --> D1
    D7 --> DB
    
    classDef flow4 fill:#e1d5e7,stroke:#9673a6,stroke-width:2px
    classDef storage fill:#f5f5f5,stroke:#666666,stroke-dasharray:5 5
    
    class D1,D2,D3,D4,D5,D6,D7 flow4
    class DB storage
```

#### è·¨æµç¨‹æ•°æ®äº¤äº’

```mermaid
flowchart LR
    %% æµç¨‹é—´çš„äº¤äº’è¿æ¥
    SAVE[å†…å®¹è·å–ç³»ç»Ÿ] --> DB[(æ•°æ®å­˜å‚¨)]
    NEXT[æ¨èç³»ç»Ÿ] --> DB
    RECALL[å›å¿†ç³»ç»Ÿ] --> DB
    REPORT[æŠ¥å‘Šç³»ç»Ÿ] --> DB
    
    SAVE -.-> |"æä¾›å†…å®¹"| NEXT
    SAVE -.-> |"æä¾›ç´¢å¼•"| RECALL
    NEXT -.-> |"å½±å“æ¨è"| RECALL
    RECALL -.-> |"æä¾›è§è§£"| NEXT
    NEXT -.-> |"ç”¨æˆ·å–œå¥½"| REPORT
    RECALL -.-> |"çŸ¥è¯†å…³è”"| REPORT
    REPORT -.-> |"é˜…è¯»åˆ†æ"| NEXT
    
    classDef system fill:#f5f5f5,stroke:#666666,stroke-width:2px
    classDef storage fill:#e6f7ff,stroke:#1890ff,stroke-width:2px
    classDef flow fill:#fff2e8,stroke:#fa8c16,stroke-width:1px,stroke-dasharray:5 5
    
    class SAVE,NEXT,RECALL,REPORT system
    class DB storage
```

### æ¶æ„è®¾è®¡åŸåˆ™

* **æœ¬åœ°ä¼˜å…ˆ**ï¼šæ ¸å¿ƒåŠŸèƒ½ä¸ä¾èµ–ç½‘ç»œè¿æ¥
* **æ¨¡å—åŒ–è®¾è®¡**ï¼šç»„ä»¶å¯ç‹¬ç«‹å‡çº§å’Œæ›¿æ¢
* **æ¸è¿›å¢å¼º**ï¼šåŸºç¡€åŠŸèƒ½å¯åœ¨ä½é…ç½®ç¯å¢ƒè¿è¡Œï¼Œé«˜çº§åŠŸèƒ½éšèµ„æºæ‰©å±•
* **éšç§ä¿æŠ¤**ï¼šæ•æ„Ÿæ•°æ®é»˜è®¤å­˜å‚¨åœ¨æœ¬åœ°ï¼Œäº‘åŒæ­¥ä¸ºå¯é€‰é¡¹

## ç”¨æˆ·ç•Œé¢

NextBook Agenté‡‡ç”¨ç®€æ´ç›´è§‚çš„ç•Œé¢è®¾è®¡ï¼Œå°†å››å¤§æ ¸å¿ƒåŠŸèƒ½æ— ç¼é›†æˆä¸ºç»Ÿä¸€çš„ç”¨æˆ·ä½“éªŒã€‚

### ä¸»ç•Œé¢è®¾è®¡

```mermaid
graph TD
    subgraph "NextBookä¸»ç•Œé¢"
        direction LR
        
        subgraph "ä¾§è¾¹æ å¯¼èˆª"
            N1[ğŸ“¥ SAVE] -.-> N5[ä¹¦åº“]
            N2[ğŸ“š NEXT] -.-> N6[æ¨è]
            N3[ğŸ” RECALL] -.-> N7[å›å¿†]
            N4[ğŸ“Š REPORT] -.-> N8[æŠ¥å‘Š]
        end
        
        subgraph "ä¸»å†…å®¹åŒº"
            C[è§†å›¾åˆ‡æ¢åŒº]
        end
        
        subgraph "å·¥å…·æ "
            T1[å¯¼å…¥] --- T2[æœç´¢] --- T3[è®¾ç½®]
        end
    end
    
    classDef nav fill:#f9f9f9,stroke:#666
    classDef content fill:#ffffff,stroke:#999
    classDef tools fill:#f0f0f0,stroke:#666
    
    class N1,N2,N3,N4,N5,N6,N7,N8 nav
    class C content
    class T1,T2,T3 tools
```

### æ ¸å¿ƒåŠŸèƒ½ç•Œé¢

#### ğŸ“¥ SAVE - å†…å®¹ä¿å­˜

```mermaid
graph TD
    subgraph "å†…å®¹ä¿å­˜ç•Œé¢"
        direction LR
        
        subgraph "ä¹¦ç±é˜…è¯»å™¨"
            R1[æ–‡æ¡£æŸ¥çœ‹å™¨] --- R2[åˆ’çº¿å·¥å…·]
            R1 --- R3[ç¬”è®°é¢æ¿]
        end
        
        subgraph "å†…å®¹ç®¡ç†"
            M1[ä¹¦ç±åˆ—è¡¨] --- M2[åˆ†ç±»ç®¡ç†]
            M1 --- M3[æ ‡ç­¾ç³»ç»Ÿ]
        end
    end
    
    classDef reader fill:#e6f7ff,stroke:#1890ff
    classDef manager fill:#f6ffed,stroke:#52c41a
    
    class R1,R2,R3 reader
    class M1,M2,M3 manager
```

#### ğŸ“š NEXT - ä¹¦ç±æ¨è

```mermaid
graph LR
    subgraph "æ™ºèƒ½æ¨èç•Œé¢"
        direction TB
        
        subgraph "ä¸ªæ€§åŒ–æ¨è"
            P1[ä¹¦ç±A] --- P2[ä¹¦ç±B] --- P3[ä¹¦ç±C]
            P4[ä¸ªæ€§åŒ–ç†ç”±]
        end
        
        subgraph "å‘ç°åŒº"
            D1[æœ€æ–°å‡ºç‰ˆ] --- D2[é¢†åŸŸç»å…¸]
            D2 --- D3[è¿‘æœŸçƒ­é—¨]
        end
        
        subgraph "ç»†èŠ‚è§†å›¾"
            V1[ä¹¦ç±å°é¢] --- V2[å†…å®¹ç®€ä»‹]
            V2 --- V3[è·å–é“¾æ¥]
        end
    end
    
    classDef recommend fill:#fff2e8,stroke:#fa8c16
    classDef discover fill:#f9f0ff,stroke:#722ed1
    classDef detail fill:#e6fffb,stroke:#13c2c2
    
    class P1,P2,P3,P4 recommend
    class D1,D2,D3 discover
    class V1,V2,V3 detail
```

#### ğŸ” RECALL - çŸ¥è¯†å›å¿†

```mermaid
graph TD
    subgraph "çŸ¥è¯†å›å¿†ç•Œé¢"
        direction LR
        
        subgraph "æ—¶é—´çº¿è§†å›¾"
            T1[æœˆè§†å›¾] --- T2[å‘¨è§†å›¾] --- T3[æ—¥è§†å›¾]
        end
        
        subgraph "çŸ¥è¯†å¡ç‰‡"
            K1[ç¬”è®°å¡ç‰‡] --- K2[å¼•ç”¨å¡ç‰‡]
            K1 --- K3[æ€è€ƒå¡ç‰‡]
        end
        
        subgraph "å…³è”è§†å›¾"
            C1[çŸ¥è¯†å›¾è°±] --- C2[ä¸»é¢˜å…³è”]
        end
    end
    
    classDef timeline fill:#f0f5ff,stroke:#2f54eb
    classDef cards fill:#fff1f0,stroke:#f5222d
    classDef connections fill:#fcffe6,stroke:#a0d911
    
    class T1,T2,T3 timeline
    class K1,K2,K3 cards
    class C1,C2 connections
```

#### ğŸ“Š REPORT - æ•°æ®æŠ¥å‘Š

```mermaid
graph LR
    subgraph "æ•°æ®æŠ¥å‘Šç•Œé¢"
        direction TB
        
        subgraph "é˜…è¯»ç»Ÿè®¡"
            S1[å¹´åº¦æ€»è§ˆ] --- S2[æœˆåº¦è¶‹åŠ¿]
            S2 --- S3[ç±»åˆ«åˆ†å¸ƒ]
        end
        
        subgraph "çŸ¥è¯†åœ°å›¾"
            M1[ä¸»é¢˜åœ°å›¾] --- M2[å…³é”®è¯äº‘]
        end
        
        subgraph "ç›®æ ‡è¿½è¸ª"
            G1[é˜…è¯»ç›®æ ‡] --- G2[å®Œæˆè¿›åº¦]
        end
    end
    
    classDef stats fill:#e6f7ff,stroke:#1890ff
    classDef map fill:#fff7e6,stroke:#fa8c16
    classDef goals fill:#f6ffed,stroke:#52c41a
    
    class S1,S2,S3 stats
    class M1,M2 map
    class G1,G2 goals
```

### äº¤äº’è®¾è®¡åŸåˆ™

* **ç®€æ´ç›´è§‚**ï¼šç•Œé¢æ¸…æ™°ï¼Œå‡å°‘è§†è§‰å™ªéŸ³ï¼Œçªå‡ºå†…å®¹
* **ä¸€è‡´æ€§**ï¼šå„åŠŸèƒ½åŒºä¿æŒä¸€è‡´çš„è®¾è®¡è¯­è¨€å’Œäº¤äº’æ¨¡å¼
* **å“åº”å¼**ï¼šé€‚åº”ä¸åŒå±å¹•å°ºå¯¸ï¼Œä¼˜åŒ–macOSä¸Šçš„æ˜¾ç¤ºæ•ˆæœ
* **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**ï¼šç•Œé¢æ ¹æ®ç”¨æˆ·å½“å‰æ´»åŠ¨æ™ºèƒ½è°ƒæ•´ï¼Œæä¾›ç›¸å…³åŠŸèƒ½
* **å‡å°‘è®¤çŸ¥è´Ÿæ‹…**ï¼šå¸¸ç”¨åŠŸèƒ½ä¸€é”®å¯è¾¾ï¼Œå¤æ‚åŠŸèƒ½åˆ†å±‚å±•ç¤º

## å¿«é€Ÿä¸Šæ‰‹

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourusername/nextbook-agent.git

# å®‰è£…ä¾èµ–
cd nextbook-agent
pip install -r requirements.txt

# å¯åŠ¨åº”ç”¨
python app.py
```

## å¼€å‘çŠ¶æ€

- [x] æ ¸å¿ƒåŠŸèƒ½è®¾è®¡
- [x] åŸºç¡€æ¶æ„æ­å»º
- [ ] UIç•Œé¢å¼€å‘
- [ ] å†…å®¹ä¿å­˜åŠŸèƒ½
- [ ] æ¨èç®—æ³•å®ç°
- [ ] çŸ¥è¯†å›å¿†ç³»ç»Ÿ
- [ ] æŠ¥å‘Šç”ŸæˆåŠŸèƒ½

## æœªæ¥è®¡åˆ’

* **ç¤¾åŒºåŠŸèƒ½**ï¼šåˆ†äº«ç¬”è®°å’Œæ¨è
* **è¯­éŸ³ç¬”è®°**ï¼šæ”¯æŒè¯­éŸ³è¾“å…¥å’Œè½¬å½•
* **äº‘ç«¯åŒæ­¥**ï¼šç¡®ä¿å¤šè®¾å¤‡æ•°æ®ä¸€è‡´æ€§
* **æ‰©å±•å¹³å°**ï¼šæ”¯æŒiOSã€Linuxã€Windows

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºæ–°åŠŸèƒ½å»ºè®®ï¼è¯¦æƒ…è¯·å‚è€ƒ[è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)ã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº[MITè®¸å¯è¯](LICENSE)å¼€æºã€‚